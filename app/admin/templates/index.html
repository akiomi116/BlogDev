{% extends 'base.html' %}

{% block title %}
ダッシュボード
{% endblock %}

{% block content %}
<div class="container">
    <h1>管理ダッシュボード</h1>

    <div class="stats">
        <ul>
            <li><strong>ユーザー数:</strong> {{ total_users }}</li>
            <li><strong>投稿数:</strong> {{ total_posts }}</li>
            <li><strong>カテゴリ数:</strong> {{ total_categories }}</li>
            <li><strong>タグ数:</strong> {{ total_tags }}</li>
            <li><strong>画像数:</strong> {{ total_images }}</li>
            <li><strong>未承認コメント数:</strong> {{ pending_comments_count }}</li>
        </ul>
    </div>

    <hr>

    <h2>最新の投稿</h2>
    <ul>
        {% for post in recent_posts %}
            <li>
                <strong>{{ post.title }}</strong>（{{ post.created_at.strftime('%Y-%m-%d %H:%M') }}）
            </li>
        {% else %}
            <li>投稿はまだありません。</li>
        {% endfor %}
    </ul>

    <h2>最新のコメント</h2>
    <ul>
        {% for comment in recent_comments %}
            <li>
                <em>{{ comment.body[:50] }}{% if comment.body|length > 50 %}...{% endif %}</em>
                （{{ comment.created_at.strftime('%Y-%m-%d %H:%M') }}）
            </li>
        {% else %}
            <li>コメントはまだありません。</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
